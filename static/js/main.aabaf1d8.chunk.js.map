{"version":3,"sources":["Components/RecordListItem.tsx","Components/RecordList.tsx","Components/DataLoading.tsx","Components/NavbarComponent.tsx","Components/PageControl.tsx","Services/Api.ts","Services/DataManagerService.ts","Lib/tga.ts","Components/KeyValue.tsx","Services/SpriteRendererService.ts","Components/ObjectRecord.tsx","Components/App.tsx","serviceWorker.ts","index.tsx"],"names":["RecordListItem","getClass","active","concat","render","library","add","faAppleAlt","faTshirt","faHorse","faWeightHanging","react","onClick","_this","props","onSelected","objectRecord","scope","id","description","containable","String","containSize","index_es","icon","title","size","className","foodValue","clothing","rideable","permanent","React","RecordList","Row","Table","striped","dark","hover","Object","values","sort","lhs","rhs","map","RecordListItem_RecordListItem","key","onObjectSelected","DataLoading","bgColor","progress","percent","getProgress","Container","Col","Alert","color","message","Progress","value","animated","NavbarComponent","onSearchSubmit","event","preventDefault","data","FormData","target","onSearch","get","setState","prevState","objectSpread","filter","href","onSubmit","type","name","placeholder","aria-label","PageControl","isFirstPage","currentPage","isSecondPage","isLastPage","pageCount","isSecondLastPage","getMiddleNumber","renderPage","page","PaginationItem","PaginationLink","changePage","renderDots","disabled","xs","Pagination","previous","next","Api","baseUrl","getRecords","_callee","regenerator_default","a","wrap","_context","prev","$","abrupt","sent","stop","this","DataManagerService","initialize","onProgress","done","response","t0","outdated","undefined","records","waitForUpdate","t1","sleep","_callee2","ms","_context2","Promise","resolve","setTimeout","_callee3","_context3","Type","Origin","KeyValue","keyStr","JSON","stringify","Targa","header","palette","imageData","checkHeader","imageType","NO_DATA","Error","hasColorMap","colorMapLength","colorMapDepth","colorMapType","width","height","pixelDepth","decodeRLE","offset","pixelSize","outputSize","pos","c","count","i","pixels","output","Uint8Array","set","getImageData8bits","indexes","colormap","y_start","y_step","y_end","x_start","x_step","x_end","x","y","getImageData16bits","getImageData24bits","getImageData32bits","getImageDataGrey8bits","getImageDataGrey16bits","open","path","callback","tga","req","XMLHttpRequest","responseType","onload","status","load","call","send","length","idLength","colorMapIndex","offsetX","offsetY","flags","hasEncoding","RLE_INDEXED","RLE_RGB","RLE_GREY","INDEXED","isGreyColor","GREY","colorMapSize","subarray","imageSize","pixelTotal","getImageData","origin","MASK","SHIFT","document","createElement","getContext","createImageData","Uint8ClampedArray","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","getCanvas","canvas","ctx","putImageData","getDataURL","toDataURL","SpriteRendererService","imgUrl","sprites","canvasId","context","spritePromises","spriteCanvases","spriteInfos","push","all","index","sprite","addSprite","reject","catch","err","_SpriteRendererServic","getPosition","drawImage","position","ObjectRecord","mainCanvasId","toString","renderSpriteInfo","md","lg","KeyValue_KeyValue","parent","Button","close","uniqBy","App","state","objectRecords","selectedRecord","filteredCount","itemsPerPage","componentDidMount","onLoadingProgress","onLoadingDone","keys","getFilteredObjects","object","stringContains","slice","getPageControlProps","Math","ceil","onChangePage","showLoading","newPage","onObjectClosed","renderTabel","RecordList_RecordList","PageControl_PageControl","renderObjectRecord","ObjectRecord_ObjectRecord","NavbarComponent_NavbarComponent","role","DataLoading_DataLoading","source","substr","toLowerCase","indexOf","Boolean","window","location","hostname","match","ReactDOM","App_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.aabaf1d8.chunk.js","sourcesContent":["import * as React from 'react';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faAppleAlt, faTshirt, faHorse, faWeightHanging } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport ObjectRecord from './../Models/ObjectRecord';\r\n\r\ninterface IObjectRecordListItemComponentProps {\r\n    objectRecord: ObjectRecord,\r\n    onSelected: (objectRecord: ObjectRecord) => void;\r\n}\r\n\r\nexport default class RecordListItem extends React.Component<IObjectRecordListItemComponentProps> {\r\n    private getClass = (active: boolean): string => `trait-icon trait-icon-${active ? \"active\" : \"inactive\"}`;\r\n\r\n    public render = () => {\r\n        library.add(faAppleAlt, faTshirt, faHorse, faWeightHanging);\r\n        return (\r\n            <tr onClick={() => this.props.onSelected(this.props.objectRecord)}>\r\n                <th scope=\"row\">{this.props.objectRecord.id}</th>\r\n                <td>{this.props.objectRecord.description}</td>\r\n                <td>{this.props.objectRecord.containable ? String(this.props.objectRecord.containSize) : \"\\u221e\"}</td>\r\n                <td>\r\n                    <FontAwesomeIcon icon=\"apple-alt\" title=\"Edible\" size=\"2x\" className={this.getClass(this.props.objectRecord.foodValue > 0)} />\r\n                    <FontAwesomeIcon icon=\"tshirt\" title=\"Equipable\" size=\"2x\" className={this.getClass(this.props.objectRecord.clothing !== 'n')} />\r\n                    <FontAwesomeIcon icon=\"horse\" title=\"Rideable\" size=\"2x\" className={this.getClass(this.props.objectRecord.rideable)} />\r\n                    <FontAwesomeIcon icon=\"weight-hanging\" title=\"Permanent\" size=\"2x\" className={this.getClass(this.props.objectRecord.permanent)} />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { Table, Row } from 'reactstrap';\r\n\r\nimport ObjectRecord, { IObjectRecordContainer } from './../Models/ObjectRecord';\r\nimport RecordListItem from './RecordListItem';\r\n\r\ninterface IObjectRecordListComponentProps {\r\n    objectRecord: IObjectRecordContainer;\r\n    onObjectSelected: (objectRecord: ObjectRecord) => void;\r\n}\r\n\r\nexport default class RecordList extends React.Component<IObjectRecordListComponentProps> {\r\n    public render = (): JSX.Element => (\r\n        <Row>\r\n            <Table striped dark hover>\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Name</th>\r\n                        <th>Size</th>\r\n                        <th>Traits</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Object.values(this.props.objectRecord)\r\n                        .sort((lhs, rhs) => lhs.id - rhs.id)\r\n                        .map((objectRecord) => <RecordListItem key={objectRecord.id} onSelected={this.props.onObjectSelected}  objectRecord={objectRecord} />)}\r\n                </tbody>\r\n            </Table>\r\n        </Row>\r\n    );\r\n}","import * as React from 'react';\r\nimport { Col, Alert, Progress, Container, Row } from 'reactstrap';\r\n\r\nimport IProgressInfo from './../Models/IProgressInfo';\r\n\r\ninterface IDataLoadingComponent {\r\n    progress: IProgressInfo;\r\n}\r\n\r\nexport default class DataLoading extends React.Component<IDataLoadingComponent> {\r\n    private bgColor = (): string => this.props.progress.percent < 0 ? \"danger\" : \"info\";\r\n\r\n    private getProgress = (): number => (this.props.progress.percent < 0 ? 1 : this.props.progress.percent) * 100;\r\n\r\n    public render = (): JSX.Element => (\r\n        <Container>\r\n            <Row>\r\n                <Col className=\"data-loading\">\r\n                    <Alert color={this.bgColor()}>\r\n                        <p>{this.props.progress.message}</p>\r\n                        <Progress value={this.getProgress()} color={this.bgColor()} striped animated />\r\n                    </Alert>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}","import * as React from 'react';\r\n\r\ninterface INavbarComponentProps {\r\n    onSearch: (event: string) => void;\r\n}\r\n\r\nexport default class NavbarComponent extends React.Component<INavbarComponentProps> {\r\n    private onSearchSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        const data = new FormData(event.target as HTMLFormElement);\r\n        this.props.onSearch(data.get(\"filter\") as string);\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            filter: data.get(\"filter\") as string\r\n        }));\r\n    }\r\n\r\n    public render = () => {\r\n        return (\r\n            <nav className=\"navbar navbar-dark bg-dark fixed-top\">\r\n                <div className=\"container\">\r\n                    <a className=\"navbar-brand h1 text-light\" href=\"#\">One life item browser</a>\r\n                    <form className=\"form-inline d-none d-sm-block\" onSubmit={this.onSearchSubmit}>\r\n                        <input className=\"form-control mr-sm-2\" type=\"search\" name=\"filter\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                        <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { Col, Pagination, PaginationItem, PaginationLink, Row } from 'reactstrap';\r\n\r\nexport interface IPageControlProps {\r\n    currentPage: number;\r\n    pageCount: number;\r\n    changePage: (newPage: number) => void;\r\n}\r\n\r\nexport default class PageControl extends React.Component<IPageControlProps> {\r\n\r\n    private isFirstPage = (): boolean => this.props.currentPage === 0;\r\n    private isSecondPage = (): boolean => this.props.currentPage === 1;\r\n    private isLastPage = (): boolean => this.props.currentPage === this.props.pageCount - 1;\r\n    private isSecondLastPage = (): boolean => this.props.currentPage === this.props.pageCount - 2;\r\n\r\n    private getMiddleNumber = (): number => this.isFirstPage() || this.isSecondPage() \r\n        ? 2 \r\n        : this.isLastPage() || this.isSecondLastPage() \r\n            ? this.props.pageCount - 3 \r\n            : this.props.currentPage;\r\n\r\n    private renderPage = (page: number): JSX.Element | null => page < this.props.pageCount ? (\r\n        <PaginationItem active={page === this.props.currentPage}>\r\n            <PaginationLink onClick={() => this.props.changePage(page)}>{page + 1}</PaginationLink>\r\n        </PaginationItem>\r\n    ) : null;\r\n\r\n    private renderDots = (): JSX.Element => (\r\n        <PaginationItem disabled>\r\n            <PaginationLink>...</PaginationLink>\r\n        </PaginationItem>\r\n    )\r\n\r\n    public render = (): JSX.Element => (\r\n        <Row className=\"justify-content-center\">\r\n            <Col xs=\"auto\">\r\n                <Pagination className=\"page-control\">\r\n                    <PaginationItem disabled={this.isFirstPage()}>\r\n                        <PaginationLink previous onClick={() => this.props.changePage(this.props.currentPage - 1)} />\r\n                    </PaginationItem>\r\n                    { this.props.currentPage > 2 && this.renderPage(0) }\r\n                    { this.props.currentPage > 3 && this.renderPage(1) }\r\n                    { this.props.currentPage > 3 && this.renderDots() }\r\n                    { this.renderPage(this.getMiddleNumber() - 2) }\r\n                    { this.renderPage(this.getMiddleNumber() - 1) }\r\n                    { this.renderPage(this.getMiddleNumber()) }\r\n                    { this.renderPage(this.getMiddleNumber() + 1) }\r\n                    { this.renderPage(this.getMiddleNumber() + 2) }\r\n                    { this.props.currentPage < this.props.pageCount - 4 && this.renderDots() }\r\n                    { this.props.currentPage < this.props.pageCount - 4 && this.renderPage(this.props.pageCount - 2) }\r\n                    { this.props.currentPage < this.props.pageCount - 3 && this.renderPage(this.props.pageCount - 1) }\r\n                    <PaginationItem disabled={this.isLastPage()}>\r\n                        <PaginationLink next onClick={() => this.props.changePage(this.props.currentPage + 1)} />\r\n                    </PaginationItem>\r\n                </Pagination>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}","import $ from \"jquery\";\r\n\r\nimport IRecordsResponse from './../Models/IRecordResponse';\r\n\r\nexport default class Api {\r\n    private static readonly baseUrl: string = false//location.hostname === \"localhost\" \r\n    ? \"http://localhost:3000/api/\" : \"https://onelifeitembrowser.herokuapp.com/api/\";\r\n\r\n    public static getRecords = async (): Promise<IRecordsResponse> => {\r\n        return await $.get(Api.baseUrl + \"records\");\r\n    }\r\n}","import Api from './Api';\r\nimport { IObjectRecordContainer } from './../Models/ObjectRecord';\r\nimport IProgressInfo from './../Models/IProgressInfo';\r\n\r\nexport default class DataManagerService {\r\n    public static initialize = async (onProgress: (progress?: IProgressInfo) => void, done: (objectRecords: IObjectRecordContainer) => void): Promise<IObjectRecordContainer> => {\r\n        onProgress({\r\n            percent: 1,\r\n            message: \"Fetching records...\",\r\n        })\r\n        try {\r\n            var response = await Api.getRecords();\r\n\r\n            switch (response.outdated) {\r\n            case false:\r\n                onProgress(undefined);\r\n                return response.records;\r\n            case true:\r\n                onProgress(response.progress);\r\n                DataManagerService.waitForUpdate(onProgress, done);\r\n                return {};\r\n            }\r\n        } catch {\r\n            onProgress({\r\n                percent: -1,\r\n                message: \"Unexpected error occured. Please refresh the page.\"\r\n            })\r\n            return {};\r\n        }\r\n        return {};\r\n    }\r\n\r\n    private static sleep = async (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n    private static waitForUpdate = async (onProgress: (progress?: IProgressInfo) => void, done: (objectRecords: IObjectRecordContainer) => void) => {\r\n        try {\r\n            do {\r\n                await DataManagerService.sleep(3000);\r\n                var response = await Api.getRecords();\r\n    \r\n                switch (response.outdated) {\r\n                case false:\r\n                    onProgress(undefined);\r\n                    done(response.records);\r\n                    return;\r\n                case true:\r\n                    onProgress(response.progress);\r\n                }\r\n            } while (true);\r\n        } catch {\r\n            onProgress({\r\n                percent: -1,\r\n                message: \"Unexpected error occured. Please refresh the page.\"\r\n            })\r\n        }\r\n    }\r\n}","/**\r\n* @fileoverview jsTGALoader - Javascript loader for TGA file\r\n* @author Vincent Thibault\r\n* @version 1.2.0\r\n* @blog http://blog.robrowser.com/javascript-tga-loader.html\r\n*/\r\n\r\n/* Copyright (c) 2013, Vincent Thibault. All rights reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without modification,\r\nare permitted provided that the following conditions are met:\r\n\r\n  * Redistributions of source code must retain the above copyright notice, this\r\n    list of conditions and the following disclaimer.\r\n  * Redistributions in binary form must reproduce the above copyright notice,\r\n    this list of conditions and the following disclaimer in the documentation \r\n    and/or other materials provided with the distribution.\r\n\r\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \r\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\r\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\r\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */\r\n\r\n/**\r\n * @var {object} TGA type constants\r\n */\r\nenum Type {\r\n\tNO_DATA = 0,\r\n\tINDEXED = 1,\r\n\tRGB = 2,\r\n\tGREY = 3,\r\n\tRLE_INDEXED = 9,\r\n\tRLE_RGB = 10,\r\n\tRLE_GREY = 11\r\n};\r\n\r\n/**\r\n * @var {object} TGA origin constants\r\n */\r\nenum Origin {\r\n\tBOTTOM_LEFT = 0x00,\r\n\tBOTTOM_RIGHT = 0x01,\r\n\tTOP_LEFT = 0x02,\r\n\tTOP_RIGHT = 0x03,\r\n\tSHIFT = 0x04,\r\n\tMASK = 0x30\r\n};\r\n\r\nexport default class Targa {\r\n\tprivate header: any;\r\n\tprivate palette: any;\r\n\tprivate imageData?: Uint8Array;\r\n\r\n\t/**\r\n\t * Check the header of TGA file to detect errors\r\n\t *\r\n\t * @param {object} tga header structure\r\n\t * @throws Error\r\n\t */\r\n\tprivate checkHeader = (header: any) => {\r\n\t\t// What the need of a file without data ?\r\n\t\tif (header.imageType === Type.NO_DATA) {\r\n\t\t\tthrow new Error('Targa::checkHeader() - No data');\r\n\t\t}\r\n\r\n\t\t// Indexed type\r\n\t\tif (header.hasColorMap) {\r\n\t\t\tif (header.colorMapLength > 256 || header.colorMapDepth !== 24 || header.colorMapType !== 1) {\r\n\t\t\t\tthrow new Error('Targa::checkHeader() - Invalid colormap for indexed type');\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (header.colorMapType) {\r\n\t\t\t\tthrow new Error('Targa::checkHeader() - Why does the image contain a palette ?');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check image size\r\n\t\tif (header.width <= 0 || header.height <= 0) {\r\n\t\t\tthrow new Error('Targa::checkHeader() - Invalid image size');\r\n\t\t}\r\n\r\n\t\t// Check pixel size\r\n\t\tif (header.pixelDepth !== 8 &&\r\n\t\t\theader.pixelDepth !== 16 &&\r\n\t\t\theader.pixelDepth !== 24 &&\r\n\t\t\theader.pixelDepth !== 32) {\r\n\t\t\tthrow new Error('Targa::checkHeader() - Invalid pixel size \"' + header.pixelDepth + '\"');\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Decode RLE compression\r\n\t *\r\n\t * @param {Uint8Array} data\r\n\t * @param {number} offset in data to start loading RLE\r\n\t * @param {number} pixel count\r\n\t * @param {number} output buffer size\r\n\t */\r\n\tprivate decodeRLE = (data: any, offset: any, pixelSize: any, outputSize: any) => {\r\n\t\tvar pos, c, count, i;\r\n\t\tvar pixels, output;\r\n\r\n\t\toutput = new Uint8Array(outputSize);\r\n\t\tpixels = new Uint8Array(pixelSize);\r\n\t\tpos = 0;\r\n\r\n\t\twhile (pos < outputSize) {\r\n\t\t\tc = data[offset++];\r\n\t\t\tcount = (c & 0x7f) + 1;\r\n\r\n\t\t\t// RLE pixels.\r\n\t\t\tif (c & 0x80) {\r\n\t\t\t\t// Bind pixel tmp array\r\n\t\t\t\tfor (i = 0; i < pixelSize; ++i) {\r\n\t\t\t\t\tpixels[i] = data[offset++];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Copy pixel array\r\n\t\t\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\t\t\toutput.set(pixels, pos);\r\n\t\t\t\t\tpos += pixelSize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Raw pixels.\r\n\t\t\telse {\r\n\t\t\t\tcount *= pixelSize;\r\n\t\t\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\t\t\toutput[pos++] = data[offset++];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file (8bits)\r\n\t *\r\n\t * @param {Array} imageData - ImageData to bind\r\n\t * @param {Array} indexes - index to colormap\r\n\t * @param {Array} colormap\r\n\t * @param {number} width\r\n\t * @param {number} y_start - start at y pixel.\r\n\t * @param {number} x_start - start at x pixel.\r\n\t * @param {number} y_step  - increment y pixel each time.\r\n\t * @param {number} y_end   - stop at pixel y.\r\n\t * @param {number} x_step  - increment x pixel each time.\r\n\t * @param {number} x_end   - stop at pixel x.\r\n\t * @returns {Array} imageData\r\n\t */\r\n\tprivate getImageData8bits = (imageData: any, indexes: any, colormap: any, width: any, y_start: any, y_step: any, y_end: any, x_start: any, x_step: any, x_end: any) => {\r\n\t\tvar color, i, x, y;\r\n\r\n\t\tfor (i = 0, y = y_start; y !== y_end; y += y_step) {\r\n\t\t\tfor (x = x_start; x !== x_end; x += x_step, i++) {\r\n\t\t\t\tcolor = indexes[i];\r\n\t\t\t\timageData[(x + width * y) * 4 + 3] = 255;\r\n\t\t\t\timageData[(x + width * y) * 4 + 2] = colormap[(color * 3) + 0];\r\n\t\t\t\timageData[(x + width * y) * 4 + 1] = colormap[(color * 3) + 1];\r\n\t\t\t\timageData[(x + width * y) * 4 + 0] = colormap[(color * 3) + 2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn imageData;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file (16bits)\r\n\t *\r\n\t * @param {Array} imageData - ImageData to bind\r\n\t * @param {Array} pixels data\r\n\t * @param {Array} colormap - not used\r\n\t * @param {number} width\r\n\t * @param {number} y_start - start at y pixel.\r\n\t * @param {number} x_start - start at x pixel.\r\n\t * @param {number} y_step  - increment y pixel each time.\r\n\t * @param {number} y_end   - stop at pixel y.\r\n\t * @param {number} x_step  - increment x pixel each time.\r\n\t * @param {number} x_end   - stop at pixel x.\r\n\t * @returns {Array} imageData\r\n\t */\r\n\tprivate getImageData16bits = (imageData: any, pixels: any, colormap: any, width: any, y_start: any, y_step: any, y_end: any, x_start: any, x_step: any, x_end: any) => {\r\n\t\tvar color, i, x, y;\r\n\r\n\t\tfor (i = 0, y = y_start; y !== y_end; y += y_step) {\r\n\t\t\tfor (x = x_start; x !== x_end; x += x_step, i += 2) {\r\n\t\t\t\tcolor = pixels[i + 0] | (pixels[i + 1] << 8);\r\n\t\t\t\timageData[(x + width * y) * 4 + 0] = (color & 0x7C00) >> 7;\r\n\t\t\t\timageData[(x + width * y) * 4 + 1] = (color & 0x03E0) >> 2;\r\n\t\t\t\timageData[(x + width * y) * 4 + 2] = (color & 0x001F) >> 3;\r\n\t\t\t\timageData[(x + width * y) * 4 + 3] = (color & 0x8000) ? 0 : 255;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn imageData;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file (24bits)\r\n\t *\r\n\t * @param {Array} imageData - ImageData to bind\r\n\t * @param {Array} pixels data\r\n\t * @param {Array} colormap - not used\r\n\t * @param {number} width\r\n\t * @param {number} y_start - start at y pixel.\r\n\t * @param {number} x_start - start at x pixel.\r\n\t * @param {number} y_step  - increment y pixel each time.\r\n\t * @param {number} y_end   - stop at pixel y.\r\n\t * @param {number} x_step  - increment x pixel each time.\r\n\t * @param {number} x_end   - stop at pixel x.\r\n\t * @returns {Array} imageData\r\n\t */\r\n\tprivate getImageData24bits = (imageData: any, pixels: any, colormap: any, width: any, y_start: any, y_step: any, y_end: any, x_start: any, x_step: any, x_end: any) => {\r\n\t\tvar i, x, y;\r\n\r\n\t\tfor (i = 0, y = y_start; y !== y_end; y += y_step) {\r\n\t\t\tfor (x = x_start; x !== x_end; x += x_step, i += 3) {\r\n\t\t\t\timageData[(x + width * y) * 4 + 3] = 255;\r\n\t\t\t\timageData[(x + width * y) * 4 + 2] = pixels[i + 0];\r\n\t\t\t\timageData[(x + width * y) * 4 + 1] = pixels[i + 1];\r\n\t\t\t\timageData[(x + width * y) * 4 + 0] = pixels[i + 2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn imageData;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file (32bits)\r\n\t *\r\n\t * @param {Array} imageData - ImageData to bind\r\n\t * @param {Array} pixels data\r\n\t * @param {Array} colormap - not used\r\n\t * @param {number} width\r\n\t * @param {number} y_start - start at y pixel.\r\n\t * @param {number} x_start - start at x pixel.\r\n\t * @param {number} y_step  - increment y pixel each time.\r\n\t * @param {number} y_end   - stop at pixel y.\r\n\t * @param {number} x_step  - increment x pixel each time.\r\n\t * @param {number} x_end   - stop at pixel x.\r\n\t * @returns {Array} imageData\r\n\t */\r\n\tprivate getImageData32bits = (imageData: any, pixels: any, colormap: any, width: any, y_start: any, y_step: any, y_end: any, x_start: any, x_step: any, x_end: any) => {\r\n\t\tvar i, x, y;\r\n\r\n\t\tfor (i = 0, y = y_start; y !== y_end; y += y_step) {\r\n\t\t\tfor (x = x_start; x !== x_end; x += x_step, i += 4) {\r\n\t\t\t\timageData[(x + width * y) * 4 + 2] = pixels[i + 0];\r\n\t\t\t\timageData[(x + width * y) * 4 + 1] = pixels[i + 1];\r\n\t\t\t\timageData[(x + width * y) * 4 + 0] = pixels[i + 2];\r\n\t\t\t\timageData[(x + width * y) * 4 + 3] = pixels[i + 3];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn imageData;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file (8bits grey)\r\n\t *\r\n\t * @param {Array} imageData - ImageData to bind\r\n\t * @param {Array} pixels data\r\n\t * @param {Array} colormap - not used\r\n\t * @param {number} width\r\n\t * @param {number} y_start - start at y pixel.\r\n\t * @param {number} x_start - start at x pixel.\r\n\t * @param {number} y_step  - increment y pixel each time.\r\n\t * @param {number} y_end   - stop at pixel y.\r\n\t * @param {number} x_step  - increment x pixel each time.\r\n\t * @param {number} x_end   - stop at pixel x.\r\n\t * @returns {Array} imageData\r\n\t */\r\n\tprivate getImageDataGrey8bits = (imageData: any, pixels: any, colormap: any, width: any, y_start: any, y_step: any, y_end: any, x_start: any, x_step: any, x_end: any) => {\r\n\t\tvar color, i, x, y;\r\n\r\n\t\tfor (i = 0, y = y_start; y !== y_end; y += y_step) {\r\n\t\t\tfor (x = x_start; x !== x_end; x += x_step, i++) {\r\n\t\t\t\tcolor = pixels[i];\r\n\t\t\t\timageData[(x + width * y) * 4 + 0] = color;\r\n\t\t\t\timageData[(x + width * y) * 4 + 1] = color;\r\n\t\t\t\timageData[(x + width * y) * 4 + 2] = color;\r\n\t\t\t\timageData[(x + width * y) * 4 + 3] = 255;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn imageData;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file (16bits grey)\r\n\t *\r\n\t * @param {Array} imageData - ImageData to bind\r\n\t * @param {Array} pixels data\r\n\t * @param {Array} colormap - not used\r\n\t * @param {number} width\r\n\t * @param {number} y_start - start at y pixel.\r\n\t * @param {number} x_start - start at x pixel.\r\n\t * @param {number} y_step  - increment y pixel each time.\r\n\t * @param {number} y_end   - stop at pixel y.\r\n\t * @param {number} x_step  - increment x pixel each time.\r\n\t * @param {number} x_end   - stop at pixel x.\r\n\t * @returns {Array} imageData\r\n\t */\r\n\tprivate getImageDataGrey16bits = (imageData: any, pixels: any, colormap: any, width: any, y_start: any, y_step: any, y_end: any, x_start: any, x_step: any, x_end: any) => {\r\n\t\tvar i, x, y;\r\n\r\n\t\tfor (i = 0, y = y_start; y !== y_end; y += y_step) {\r\n\t\t\tfor (x = x_start; x !== x_end; x += x_step, i += 2) {\r\n\t\t\t\timageData[(x + width * y) * 4 + 0] = pixels[i + 0];\r\n\t\t\t\timageData[(x + width * y) * 4 + 1] = pixels[i + 0];\r\n\t\t\t\timageData[(x + width * y) * 4 + 2] = pixels[i + 0];\r\n\t\t\t\timageData[(x + width * y) * 4 + 3] = pixels[i + 1];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn imageData;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Open a targa file using XHR, be aware with Cross Domain files...\r\n\t *\r\n\t * @param {string} path - Path of the filename to load\r\n\t * @param {function} callback - callback to trigger when the file is loaded\r\n\t */\r\n\tpublic open = (path: any, callback: any) => {\r\n\t\tvar tga = this;\r\n\t\tvar req = new XMLHttpRequest();\r\n\t\treq.open('GET', path, true);\r\n\t\treq.responseType = 'arraybuffer';\r\n\t\treq.onload = function () {\r\n\t\t\tif (this.status === 200) {\r\n\t\t\t\ttga.load(new Uint8Array(req.response));\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tcallback.call(tga);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treq.send(null);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Load and parse a TGA file\r\n\t *\r\n\t * @param {Uint8Array} data - TGA file buffer array\r\n\t */\r\n\tpublic load = (data: any) => {\r\n\t\tvar offset = 0;\r\n\r\n\t\t// Not enough data to contain header ?\r\n\t\tif (data.length < 0x12) {\r\n\t\t\tthrow new Error('Targa::load() - Not enough data to contain header');\r\n\t\t}\r\n\r\n\t\t// Read TgaHeader\r\n\t\tthis.header = {\r\n\t\t\t/* 0x00  BYTE */  idLength: data[offset++],\r\n\t\t\t/* 0x01  BYTE */  colorMapType: data[offset++],\r\n\t\t\t/* 0x02  BYTE */  imageType: data[offset++],\r\n\t\t\t/* 0x03  WORD */  colorMapIndex: data[offset++] | data[offset++] << 8,\r\n\t\t\t/* 0x05  WORD */  colorMapLength: data[offset++] | data[offset++] << 8,\r\n\t\t\t/* 0x07  BYTE */  colorMapDepth: data[offset++],\r\n\t\t\t/* 0x08  WORD */  offsetX: data[offset++] | data[offset++] << 8,\r\n\t\t\t/* 0x0a  WORD */  offsetY: data[offset++] | data[offset++] << 8,\r\n\t\t\t/* 0x0c  WORD */  width: data[offset++] | data[offset++] << 8,\r\n\t\t\t/* 0x0e  WORD */  height: data[offset++] | data[offset++] << 8,\r\n\t\t\t/* 0x10  BYTE */  pixelDepth: data[offset++],\r\n\t\t\t/* 0x11  BYTE */  flags: data[offset++]\r\n\t\t};\r\n\r\n\t\t// Set shortcut\r\n\t\tthis.header.hasEncoding = (this.header.imageType === Type.RLE_INDEXED || this.header.imageType === Type.RLE_RGB || this.header.imageType === Type.RLE_GREY);\r\n\t\tthis.header.hasColorMap = (this.header.imageType === Type.RLE_INDEXED || this.header.imageType === Type.INDEXED);\r\n\t\tthis.header.isGreyColor = (this.header.imageType === Type.RLE_GREY || this.header.imageType === Type.GREY);\r\n\r\n\t\t// Check if a valid TGA file (or if we can load it)\r\n\t\tthis.checkHeader(this.header);\r\n\r\n\t\t// Move to data\r\n\t\toffset += this.header.idLength;\r\n\t\tif (offset >= data.length) {\r\n\t\t\tthrow new Error('Targa::load() - No data');\r\n\t\t}\r\n\r\n\t\t// Read palette\r\n\t\tif (this.header.hasColorMap) {\r\n\t\t\tvar colorMapSize = this.header.colorMapLength * (this.header.colorMapDepth >> 3);\r\n\t\t\tthis.palette = data.subarray(offset, offset + colorMapSize);\r\n\t\t\toffset += colorMapSize;\r\n\t\t}\r\n\r\n\t\tvar pixelSize = this.header.pixelDepth >> 3;\r\n\t\tvar imageSize = this.header.width * this.header.height;\r\n\t\tvar pixelTotal = imageSize * pixelSize;\r\n\r\n\t\t// RLE encoded\r\n\t\tif (this.header.hasEncoding) {\r\n\t\t\tthis.imageData = this.decodeRLE(data, offset, pixelSize, pixelTotal);\r\n\t\t}\r\n\r\n\t\t// RAW pixels\r\n\t\telse {\r\n\t\t\tthis.imageData = data.subarray(offset, offset + (this.header.hasColorMap ? imageSize : pixelTotal));\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Return a ImageData object from a TGA file\r\n\t *\r\n\t * @param {object} imageData - Optional ImageData to work with\r\n\t * @returns {object} imageData\r\n\t */\r\n\tpublic getImageData = (imageData: any) => {\r\n\t\tvar width = this.header.width;\r\n\t\tvar height = this.header.height;\r\n\t\tvar origin = (this.header.flags & Origin.MASK) >> Origin.SHIFT;\r\n\t\tvar x_start, x_step, x_end, y_start, y_step, y_end;\r\n\t\tvar getImageData;\r\n\r\n\t\t// Create an imageData\r\n\t\tif (!imageData) {\r\n\t\t\tif (document) {\r\n\t\t\t\timageData = document.createElement('canvas').getContext('2d')!.createImageData(width, height);\r\n\t\t\t} else {\r\n\t\t\t\timageData = {\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tdata: new Uint8ClampedArray(width * height * 4)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (origin === Origin.TOP_LEFT || origin === Origin.TOP_RIGHT) {\r\n\t\t\ty_start = 0;\r\n\t\t\ty_step = 1;\r\n\t\t\ty_end = height;\r\n\t\t}\r\n\t\telse {\r\n\t\t\ty_start = height - 1;\r\n\t\t\ty_step = -1;\r\n\t\t\ty_end = -1;\r\n\t\t}\r\n\r\n\t\tif (origin === Origin.TOP_LEFT || origin === Origin.BOTTOM_LEFT) {\r\n\t\t\tx_start = 0;\r\n\t\t\tx_step = 1;\r\n\t\t\tx_end = width;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tx_start = width - 1;\r\n\t\t\tx_step = -1;\r\n\t\t\tx_end = -1;\r\n\t\t}\r\n\r\n\t\t// TODO: use this.header.offsetX and this.header.offsetY ?\r\n\r\n\t\tswitch (this.header.pixelDepth) {\r\n\t\t\tcase 8:\r\n\t\t\t\tgetImageData = this.header.isGreyColor ? this.getImageDataGrey8bits : this.getImageData8bits;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 16:\r\n\t\t\t\tgetImageData = this.header.isGreyColor ? this.getImageDataGrey16bits : this.getImageData16bits;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 24:\r\n\t\t\t\tgetImageData = this.getImageData24bits;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 32:\r\n\t\t\t\tgetImageData = this.getImageData32bits;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tgetImageData && getImageData(imageData.data, this.imageData, this.palette, width, y_start, y_step, y_end, x_start, x_step, x_end);\r\n\t\treturn imageData;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Return a canvas with the TGA render on it\r\n\t *\r\n\t * @returns {object} CanvasElement\r\n\t */\r\n\tpublic getCanvas = (canvas?: HTMLCanvasElement): HTMLCanvasElement => {\r\n\t\tif (!canvas) {\r\n\t\t\tcanvas = document.createElement('canvas');\r\n\t\t}\r\n\t\tconst ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\t\tconst imageData = ctx.createImageData(this.header.width, this.header.height);\r\n\r\n\t\tcanvas.width = this.header.width;\r\n\t\tcanvas.height = this.header.height;\r\n\r\n\t\tctx.putImageData(this.getImageData(imageData), 0, 0);\r\n\r\n\t\treturn canvas;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Return a dataURI of the TGA file\r\n\t *\r\n\t * @param {string} type - Optional image content-type to output (default: image/png)\r\n\t * @returns {string} url\r\n\t */\r\n\tpublic getDataURL = (type: string) => {\r\n\t\treturn this.getCanvas().toDataURL(type || 'image/png');\r\n\t};\r\n};\r\n","import * as React from 'react';\r\n\r\ninterface IKeyValueComponentProps {\r\n    keyStr: string;\r\n    value: any;\r\n}\r\n\r\nexport default class KeyValue extends React.Component<IKeyValueComponentProps> {\r\n    public render = (): JSX.Element => (\r\n        <div>\r\n            <span className=\"font-weight-bold key-str\">\r\n                {this.props.keyStr}:\r\n            </span>\r\n            <span>\r\n                {JSON.stringify(this.props.value)}\r\n            </span>\r\n        </div>\r\n    );\r\n}","import $ from 'jquery';\r\nimport Targa from './../Lib/tga';\r\n\r\nimport Sprite from './../Models/Sprite';\r\nimport Position from './../Models/Position';\r\n\r\ninterface SpriteInfo {\r\n    sprite: Sprite;\r\n    canvas: HTMLCanvasElement;\r\n}\r\n\r\nexport default class SpriteRendererService {\r\n    private static imgUrl: string = \"https://raw.githubusercontent.com/jasonrohrer/OneLifeData7/master/sprites/\";\r\n\r\n    public static render = async (sprites: Sprite[], canvasId: string) => {\r\n        if (sprites.length === 0) {\r\n            return;\r\n        }\r\n        \r\n        const canvas = $(canvasId).get()[0] as HTMLCanvasElement;\r\n        canvas.width = 250;\r\n        canvas.height = 500;\r\n\r\n        const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n        var spritePromises = [];\r\n        for (var i = 0; i < sprites.length; ++i) {\r\n            spritePromises.push(SpriteRendererService.getCanvas(sprites[i]));\r\n        }\r\n\r\n        const spriteCanvases = await Promise.all(spritePromises);\r\n        const spriteInfos = spriteCanvases.map((canvas, index): SpriteInfo => ({ sprite: sprites[index], canvas}));\r\n        \r\n        for (var i = 0; i < sprites.length; ++i) {\r\n            SpriteRendererService.addSprite(i, spriteInfos, context);\r\n        }\r\n    }\r\n\r\n    private static getCanvas = async (sprite: Sprite): Promise<HTMLCanvasElement> => {\r\n        return await new Promise<HTMLCanvasElement>((resolve, reject) => {\r\n            const tga = new Targa();\r\n            tga.open(SpriteRendererService.imgUrl + sprite.id + \".tga\", () => {\r\n                resolve(tga.getCanvas($(\"#\" + sprite.id).get()[0] as HTMLCanvasElement));\r\n            });\r\n        })\r\n        .catch(err => {throw err});\r\n    };\r\n\r\n    private static addSprite = async (index: number, sprites: SpriteInfo[], context: CanvasRenderingContext2D) => {\r\n        const { x, y } = SpriteRendererService.getPosition(sprites[index]);\r\n        context.drawImage(sprites[index].canvas, 125 + x, 400 - y);\r\n    }\r\n\r\n    private static getPosition = (sprite: SpriteInfo): Position => {\r\n        return {\r\n            x: sprite.sprite.position.x - sprite.canvas.width / 2,\r\n            y: sprite.sprite.position.y + sprite.canvas.height / 2,\r\n        }\r\n    }\r\n}","import * as React from 'react';\r\nimport { Container, Row, Col, Button } from 'reactstrap';\r\n\r\nimport uniqBy from 'lodash.uniqby';\r\n\r\nimport KeyValue from './KeyValue';\r\n\r\nimport SpriteRendererService from './../Services/SpriteRendererService';\r\n\r\nimport ObjectRecordModel from './../Models/ObjectRecord';\r\nimport Sprite from './../Models/Sprite';\r\n\r\n\r\ninterface IObjectRecordComponentProps {\r\n    objectRecord: ObjectRecordModel;\r\n    close: () => void;\r\n}\r\n\r\nexport default class ObjectRecord extends React.Component<IObjectRecordComponentProps> {\r\n    componentDidMount() {\r\n        SpriteRendererService.render(this.props.objectRecord.sprites, \"#\" + this.mainCanvasId());\r\n    }\r\n\r\n    private mainCanvasId = (): string => this.props.objectRecord.id.toString();\r\n\r\n    private renderSpriteInfo = (sprite: Sprite): JSX.Element => (\r\n        <Col xs=\"6\" md=\"4\" lg=\"3\" className=\"col-6 sprite-info\">\r\n            <div className=\"sprite-info-preview\">\r\n                <canvas id={sprite.id.toString()} className=\"sprite\" />\r\n            </div>\r\n            <KeyValue keyStr=\"Id\" value={sprite.id} />\r\n            <KeyValue keyStr=\"Parent\" value={sprite.parent} />\r\n            <KeyValue keyStr=\"Pos\" value={sprite.position} />\r\n        </Col>\r\n    );\r\n\r\n    public render = (): JSX.Element => (\r\n        <Container>\r\n            <Row>\r\n                <Col md=\"7\" lg=\"8\">\r\n                    <Row>\r\n                        <Button color=\"link\" onClick={this.props.close}>&lt; Back to listing</Button>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <h2>{this.props.objectRecord.description}</h2>\r\n                            <KeyValue keyStr=\"Id\" value={this.props.objectRecord.id} />\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col md=\"5\" lg=\"4\">\r\n                    <div className=\"sprite-preview\">\r\n                        <canvas id={this.mainCanvasId()} className=\"sprite\" />\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <h3>All sprites:</h3>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                {uniqBy(this.props.objectRecord.sprites, sprite => sprite.id).map(this.renderSpriteInfo)}\r\n            </Row>\r\n        </Container>\r\n    );\r\n}","import * as React from 'react';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport RecordList from './RecordList';\r\nimport DataLoading from './DataLoading';\r\nimport NavbarComponent from './NavbarComponent';\r\nimport PageControl, { IPageControlProps } from './PageControl';\r\nimport DataManagerService from '../Services/DataManagerService';\r\nimport IProgressInfo from '../Models/IProgressInfo';\r\nimport ObjectRecord from './ObjectRecord';\r\n\r\nimport ObjectRecordModel, { IObjectRecordContainer } from '../Models/ObjectRecord';\r\n\r\ninterface IAppState {\r\n    objectRecords: IObjectRecordContainer;\r\n\r\n    selectedRecord?: number;\r\n\r\n    filter: string;\r\n    filteredCount: number;\r\n\r\n    itemsPerPage: number;\r\n    currentPage: number;\r\n\r\n    progress?: IProgressInfo;\r\n}\r\n\r\nexport default class App extends React.Component<{}, IAppState> {\r\n    public state: IAppState = {\r\n        objectRecords: {},\r\n        selectedRecord: undefined,\r\n        filter: \"\",\r\n        filteredCount: 0,\r\n        itemsPerPage: 25,\r\n        currentPage: 0,\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        const objectRecords = await DataManagerService.initialize(this.onLoadingProgress, this.onLoadingDone);\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            objectRecords,\r\n            filteredCount: Object.keys(objectRecords).length,\r\n        }));\r\n    }\r\n\r\n    private getFilteredObjects = (): ObjectRecordModel[] => Object.values(this.state.objectRecords)\r\n            .filter((object) => App.stringContains(object.description, this.state.filter))\r\n            .slice(this.state.currentPage * this.state.itemsPerPage, this.state.currentPage * this.state.itemsPerPage + this.state.itemsPerPage);\r\n\r\n    private getPageControlProps = (): IPageControlProps => ({\r\n        currentPage: this.state.currentPage,\r\n        pageCount: Math.ceil(this.state.filteredCount / this.state.itemsPerPage) - 1,\r\n        changePage: this.onChangePage,\r\n    });\r\n\r\n    private showLoading = (): boolean => this.state.progress !== undefined;\r\n\r\n    private static stringContains = (source: string, substr: string): boolean => source.toLowerCase().indexOf(substr.toLowerCase()) >= 0;\r\n\r\n    private onSearchSubmit = (filter: string) => {\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            filter,\r\n            filteredCount: Object.values(prevState.objectRecords).filter((object) => App.stringContains(object.description, filter)).length,\r\n        }));\r\n    }\r\n\r\n    private onChangePage = (newPage: number) => {\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            currentPage: newPage,\r\n        }));\r\n    }\r\n\r\n    private onLoadingProgress = (progress?: IProgressInfo) => {\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            progress,\r\n        }));\r\n    }\r\n\r\n    private onLoadingDone = (objectRecords: IObjectRecordContainer) => {\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            objectRecords,\r\n            filteredCount: Object.keys(objectRecords).length,\r\n        }));\r\n    }\r\n\r\n    private onObjectSelected = (objectRecord: ObjectRecordModel) => {\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            selectedRecord: objectRecord.id,\r\n        }));\r\n    }\r\n\r\n    private onObjectClosed = () => {\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            selectedRecord: undefined,\r\n        }));\r\n    }\r\n\r\n    private renderTabel = (): JSX.Element => (\r\n        <Container>\r\n            <RecordList objectRecord={this.getFilteredObjects()} onObjectSelected={this.onObjectSelected} />\r\n            { this.state.filteredCount > this.state.itemsPerPage && <PageControl { ...this.getPageControlProps() } /> }\r\n        </Container>\r\n    )\r\n\r\n    private renderObjectRecord = (): JSX.Element => (\r\n        <ObjectRecord objectRecord={this.state.objectRecords[this.state.selectedRecord!]} close={this.onObjectClosed} />\r\n    )\r\n\r\n    public render = (): JSX.Element => (\r\n        <div>\r\n            <NavbarComponent onSearch={this.onSearchSubmit}/>\r\n            <main role=\"main\">\r\n                { this.showLoading() && <DataLoading progress={this.state.progress!} /> }\r\n                { this.state.selectedRecord ? this.renderObjectRecord() : this.renderTabel() }\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport './index.scss';\r\nimport App from './Components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}